#!/bin/bash

# Easy Spaces Plugin Registration Script
# This script helps register the compiled plugins in Power Platform

echo "========================================"
echo "Easy Spaces Plugin Registration Guide"
echo "========================================"

echo ""
echo "ðŸ“¦ PLUGIN DLL FILES LOCATION:"
echo "- plugins/ReservationManager/bin/Release/net462/EasySpaces.ReservationManager.dll"
echo "- plugins/CustomerServices/bin/Release/net462/EasySpaces.CustomerServices.dll"
echo "- plugins/MarketServices/bin/Release/net462/EasySpaces.MarketServices.dll"

echo ""
echo "ðŸ”§ MANUAL REGISTRATION STEPS:"
echo ""
echo "1. Download Plugin Registration Tool:"
echo "   - Go to https://docs.microsoft.com/en-us/power-platform/developer/data-platform/download-tools-nuget"
echo "   - Download and extract the tools"
echo ""
echo "2. Connect to your environment:"
echo "   - Run PluginRegistration.exe"
echo "   - Connect to: https://org7cfbe420.crm.dynamics.com"
echo "   - Use your credentials: EliotNg@quix24.onmicrosoft.com"
echo ""
echo "3. Register each assembly:"
echo "   - Click 'Register New Assembly'"
echo "   - Upload each DLL file"
echo "   - Select 'Database' for isolation mode"
echo "   - Click 'Register Selected Plugins'"
echo ""
echo "4. Register plugin steps:"
echo "   - Right-click each plugin â†’ 'Register New Step'"
echo "   - Configure message (Create/Update/Delete)"
echo "   - Select primary entity (es_market, es_space, es_reservation)"
echo "   - Set execution stage (Pre-operation/Post-operation)"
echo ""
echo "ðŸ’¡ RECOMMENDED PLUGIN STEPS:"
echo ""
echo "ReservationManagerPlugin:"
echo "  - Message: Create, Update"
echo "  - Entity: es_reservation"
echo "  - Stage: Post-operation"
echo ""
echo "CustomerServicesPlugin:"
echo "  - Message: Create, Update"
echo "  - Entity: es_market, es_space"
echo "  - Stage: Pre-operation"
echo ""
echo "MarketServicesPlugin:"
echo "  - Message: Create, Update, Delete"
echo "  - Entity: es_market"
echo "  - Stage: Post-operation"
echo ""
echo "ðŸŽ¯ VERIFICATION:"
echo "- Go to Power Platform Admin Center"
echo "- Settings â†’ Customizations â†’ Plug-in Assemblies"
echo "- Verify all 3 assemblies are listed and active"
echo ""
